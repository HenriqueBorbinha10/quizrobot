<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>TIKTOK ROBOT</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { background: #000; color: #fff; font-family: Arial, sans-serif; }
    .hidden { display: none; }
    .fade-in { opacity: 0; animation: fadeIn 2s ease-in-out forwards; }
    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    .progress-bar { width: 100%; height: 8px; background: #1a1a1a; border-radius: 10px; overflow: hidden; }
    .progress { height: 100%; width: 0; background: linear-gradient(90deg, #ff5e62, #00bfff); border-radius: 10px; transition: width 0.5s ease-in-out; }
  </style>
</head>
<body class="bg-black text-white min-h-screen">

<!-- ETAPA 01 -->
<div id="etapa01" class="flex items-center justify-center min-h-screen px-2 sm:px-6">
  <div class="w-full max-w-md sm:max-w-lg px-2 sm:px-4 space-y-6">

    <!-- Logo -->
    <div class="flex justify-center mt-10 mb-10">
      <img src="https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg" alt="Logo" class="w-20 h-20" />
    </div>

    <!-- T√≠tulo -->
    <h2 class="text-center text-2xl font-semibold">üé• VIDEO PANEL</h2>

    <!-- Handle -->
    <div class="bg-[#121212] rounded-xl p-4 space-y-2">
      <div id="toggle-handle" class="flex justify-between items-center cursor-pointer">
        <label class="font-bold text-lg">Enter your TikTok</label><span>ÔπÄ</span>
      </div>
      <input id="handle" type="text" placeholder="@your_tiktok_handle" class="w-full bg-[#1f1f1f] p-3 rounded-md focus:outline-none hidden" />
    </div>

    <!-- Tipos -->
    <div class="bg-[#121212] rounded-xl p-4 space-y-4">
      <div id="toggle-types" class="flex justify-between items-center cursor-pointer">
        <label class="font-bold text-lg">Select video type</label><span>ÔπÄ</span>
      </div>
      <div id="types-wrapper" class="rounded-lg p-3 space-y-3 hidden">
        <div id="types-options" class="grid grid-cols-2 sm:grid-cols-3 gap-3">
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Motivational</button>
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Comedy</button>
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Curiosities</button>
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Reactions</button>
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Comment Replies</button>
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Reviews</button>
          <button class="video-type py-3 rounded-md bg-[#1a1a1a]">Trends</button>
        </div>
        <p id="video-count" class="text-gray-400 text-sm hidden">Selected: 0 types</p>
      </div>
    </div>

    <!-- Quantidade -->
    <div class="bg-[#121212] rounded-xl p-4 space-y-4">
      <div id="toggle-count" class="flex justify-between items-center cursor-pointer">
        <label class="font-bold text-lg">How many videos to post per day</label><span>ÔπÄ</span>
      </div>
      <div id="count-wrapper" class="rounded-lg p-3 space-y-3 hidden">
        <div id="count-options" class="grid grid-cols-3 sm:grid-cols-5 gap-2">
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">1</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">2</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">3</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">4</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">5</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">6</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">7</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">8</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">9</button>
          <button class="video-count py-3 rounded-md bg-[#1a1a1a]">10</button>
        </div>
        <p id="count-result" class="text-gray-400 text-sm hidden">Selected: 0</p>
      </div>
    </div>

    <!-- Bot√£o Continuar -->
    <button id="continue" disabled class="w-full py-3 bg-gray-800 text-gray-400 font-bold rounded-xl transition-colors duration-300">CONTINUE</button>

    <!-- Instru√ß√µes -->
    <p id="info" class="text-center text-sm text-gray-400">
      Please fill out your TikTok profile, select at least one video type, and choose videos per day to continue.
    </p>
  </div>
</div>

<!-- ETAPA 02 -->
<div id="etapa02" class="hidden min-h-screen flex flex-col items-center justify-center px-2 sm:px-6">
  <div class="w-full max-w-md sm:max-w-lg py-8 mx-auto text-center">
    <h2 class="text-2xl font-semibold mb-5">üåÄ Sending videos...</h2>
    <img src="https://cdn-icons-png.flaticon.com/512/3046/3046120.png" alt="TikTok Logo" width="80"
      class="mx-auto mb-4" />
    <p id="phrase-wait" class="mb-3">‚è≥ Wait, generating videos...</p>
    <div class="progress-bar mb-2">
      <div id="progress" class="progress" style="width: 60%;"></div>
    </div>
    <div class="w-full flex justify-between mt-2 text-xs sm:text-base mb-2">
      <span id="processando">Processing...</span>
      <span id="percentage">60%</span>
    </div>
    <p id="phrase1" class="sub-text hidden text-xs mb-2">üìä Analyzing your content preferences...</p>
    <p id="phrase2" class="sub-text hidden text-xs mb-2">ü§ñ Generating creative ideas...</p>
    <p id="phrase3" class="sub-text hidden text-xs mb-2">‚ú® Finalizing video concepts...</p>
  </div>
</div>

<!-- ETAPA 03 -->
<div id="etapa03" class="hidden min-h-screen flex flex-col items-center justify-start py-10 px-2 bg-black text-white">
  <main class="w-full max-w-2xl mx-auto flex flex-col items-center">
    <!-- T√≠tulo -->
    <h1 class="text-3xl sm:text-4xl font-bold mb-2 text-center">V√çDEOS GENERADOS</h1>
    <!-- Subt√≠tulo -->
    <p id="subtitle" class="text-gray-300 text-base sm:text-lg mb-6 text-center">
      Based on selected video types: <span id="selectedTypeText" class="font-semibold">Curiosities</span>
    </p>
    <div id="videos-container" class="w-full flex flex-col gap-4 mb-8"></div>

    <!-- Bot√µes -->
    <div class="flex flex-col sm:flex-row gap-4 w-full justify-center">
      <button class="flex-1 flex items-center justify-center gap-2 border border-cyan-400 hover:bg-cyan-900 hover:bg-opacity-30 text-cyan-300 font-semibold py-3 px-6 rounded-md transition duration-200"
        onclick="location.reload()">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 4v5h.582m15.356 2A9 9 0 106.62 6.623"/>
        </svg>
        Generate more videos
      </button>
      <button class="flex-1 bg-pink-500 hover:bg-pink-600 text-white font-semibold py-3 px-6 rounded-md transition duration-200"
        onclick="alert('Publicar v√≠deos!')">
        Publish videos
      </button>
      <button class="flex-1 bg-[#222] hover:bg-[#333] text-white font-semibold py-3 px-6 rounded-md transition duration-200"
        onclick="voltarParaEtapa01()">
        Back to configuration
      </button>
    </div>
  </main>
</div>

<!-- Textos dos v√≠deos para copiar (preenchido via JS) -->
<textarea id="txtcopy" class="hidden"></textarea>

<script>
  // ETAPA 1
  const handleInput = document.getElementById("handle");
  const typeButtons = document.querySelectorAll(".video-type");
  const continueBtn = document.getElementById("continue");
  const infoText = document.getElementById("info");
  const toggleHandle = document.getElementById("toggle-handle");
  const toggleTypes = document.getElementById("toggle-types");
  const toggleCount = document.getElementById("toggle-count");
  const typesWrapper = document.getElementById("types-wrapper");
  const countWrapper = document.getElementById("count-wrapper");
  const videoCountText = document.getElementById("video-count");
  const countResult = document.getElementById("count-result");
  let selectedTypes = new Set();
  let selectedCount = null;

  toggleHandle.addEventListener("click", () => handleInput.classList.toggle("hidden"));
  toggleTypes.addEventListener("click", () => {
    typesWrapper.classList.toggle("hidden");
    videoCountText.classList.toggle("hidden");
  });
  toggleCount.addEventListener("click", () => {
    countWrapper.classList.toggle("hidden");
    countResult.classList.toggle("hidden");
  });

  typeButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const value = btn.textContent.trim();
      if (selectedTypes.has(value)) {
        selectedTypes.delete(value);
        btn.classList.remove("bg-[#f43f5e]", "text-white");
        btn.classList.add("bg-[#1a1a1a]");
      } else {
        selectedTypes.add(value);
        btn.classList.remove("bg-[#1a1a1a]");
        btn.classList.add("bg-[#f43f5e]", "text-white");
      }
      videoCountText.textContent = `Selected: ${selectedTypes.size} types`;
      validate();
    });
  });

  document.getElementById("count-options").addEventListener("click", event => {
    const btn = event.target.closest(".video-count");
    if (!btn) return;
    selectedCount = parseInt(btn.textContent.trim());
    document.querySelectorAll(".video-count").forEach(b => b.className = "video-count py-3 rounded-md bg-[#1a1a1a]");
    btn.classList.add("bg-[#2bfcf8]", "text-black");
    countResult.textContent = `Selected: ${selectedCount} v√≠deos por dia`;
    validate();
  });

  handleInput.addEventListener("input", validate);

  function validate() {
    const filled = handleInput.value.trim() !== "" && selectedTypes.size > 0 && selectedCount !== null;
    continueBtn.disabled = !filled;
    infoText.classList.toggle("hidden", filled);
    continueBtn.className = filled
      ? "w-full py-3 bg-[#f43f5e] text-white font-bold rounded-xl"
      : "w-full py-3 bg-gray-800 text-gray-400 font-bold rounded-xl";
  }

  continueBtn.addEventListener("click", () => {
    localStorage.setItem("tiktokHandle", handleInput.value.trim());
    localStorage.setItem("videoTypes", JSON.stringify([...selectedTypes]));
    localStorage.setItem("videosPerDay", selectedCount);
    document.getElementById("etapa01").classList.add("hidden");
    mostrarEtapa02();
  });

  // ETAPA 2
  function mostrarEtapa02() {
    document.getElementById("etapa02").classList.remove("hidden");
    let width = 0;
    const progress = document.getElementById("progress");
    const percent = document.getElementById("percentage");
    const total = 100;
    const int = setInterval(() => {
      if (width >= total) {
        clearInterval(int);
        mostrarEtapa03();
      } else {
        width++;
        progress.style.width = width + "%";
        percent.textContent = width + "%";
      }
    }, 30);
    setTimeout(() => mostrarFrase("phrase1"), 1000);
    setTimeout(() => mostrarFrase("phrase2"), 2000);
    setTimeout(() => mostrarFrase("phrase3"), 3000);
  }
  function mostrarFrase(id) {
    const el = document.getElementById(id);
    el.classList.remove("hidden");
    el.classList.add("fade-in");
  }

  // ETAPA 3
  function mostrarEtapa03() {
    document.getElementById("etapa02").classList.add("hidden");
    document.getElementById("etapa03").classList.remove("hidden");
    carregarVideos();
  }

  function carregarVideos() {
    const container = document.getElementById("videos-container");
    container.innerHTML = "";
    const videosPerDay = parseInt(localStorage.getItem("videosPerDay")) || 3;
    let typeArray = [];
    try {
      typeArray = JSON.parse(localStorage.getItem("videoTypes")) || ["Curiosities"];
    } catch { typeArray = ["Curiosities"]; }
    document.getElementById('selectedTypeText').textContent = typeArray.length > 0 ? typeArray.join(", ") : "Curiosidades";
    // Exemplos simples
    const exemplos = [
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED",
      "‚úÖPROCESSED"
    ];
    for (let i = 1; i <= videosPerDay; i++) {
      const texto = exemplos[(i - 1) % exemplos.length];
      const videoDiv = document.createElement("div");
      videoDiv.className = "bg-[#18181b] rounded-xl px-4 py-5 flex items-center gap-4 shadow relative";
      videoDiv.innerHTML = `
        <span class="absolute top-3 left-3">
          <span class="bg-pink-400 text-white px-3 py-1 rounded-full text-sm font-semibold">V√≠deo ${i}</span>
        </span>
        <span class="ml-[90px] sm:ml-[110px] text-lg flex-1">${texto}</span>
        <button onclick="copiarTexto(\`${texto.replace(/'/g, "\\'")}\`)" class="ml-2 p-2 rounded hover:bg-white/10" title="Copiar">
          <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <rect x="9" y="9" width="13" height="13" rx="2" class="stroke-current" stroke-width="2" fill="none"/>
            <rect x="3" y="3" width="13" height="13" rx="2" class="stroke-current" stroke-width="2" fill="none"/>
          </svg>
        </button>
      `;
      container.appendChild(videoDiv);
    }
  }

  function copiarTexto(texto) {
    const txt = document.getElementById('txtcopy');
    txt.value = texto;
    txt.classList.remove('hidden');
    txt.select();
    document.execCommand('copy');
    txt.classList.add('hidden');
    alert("Texto copiado!");
  }

  function voltarParaEtapa01() {
    document.getElementById("etapa03").classList.add("hidden");
    document.getElementById("etapa01").classList.remove("hidden");
    // Limpa os campos se desejar
    // localStorage.clear();
    // location.reload();
  }
</script>
</body>
</html>
